// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.0;

import "forge-std/Test.sol";
import "./challenge/Re.sol";
import "./Exploit.sol";

contract ExploitTest is Test {
    function test() public {
        address playerAddress = makeAddr("player");
        Check check = new Check();
        LenderPool lenderPool = check.lenderPool();
        vm.deal(playerAddress, 1 ether);

        vm.startPrank(playerAddress, playerAddress);
        Exploit exploit = new Exploit();
        exploit.exploit(address(lenderPool));
        vm.stopPrank();

        assertTrue(check.isSolved(), "Invalid Instance");
    }
}
